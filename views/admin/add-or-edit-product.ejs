<%- include('../includes/head.ejs') %>
<%- include('../includes/navigation.ejs') %>

<main>
    <form class="product-form" action=<%= editing ? `/admin/edit-product/${prod._id || prod.id}` : "/admin/add-product"  %> method="POST">
        <div class="form-control">
            <label for="title">Title</label>
            <input type="text" name="title" id="title" required value="<%= editing ? prod.title : "" %>" />
        </div>
        <div class="form-control">
            <label for="price">Price</label>
            <input type="number" name="price" id="price" step="0.01" value="<%= editing ? prod.price : "" %>" />
        </div>
        <% if (locals.exampleFilePicker) {%>
            <!-- does not affect the app, just for learning purposes -->
            <div class="form-control">
                <label for="myFile">Select product image</label>
                <input type="file" name="myFile" id="myFile" />
            </div>
            <div class="form-control">
                <label for="myFile2">Select product image (2)</label>
                <input type="file" name="myFile2" id="myFile2" />
            </div>
        <% } else { %>
            <div class="form-control">
                <label for="imageUrl">Image URL</label>
                <input type="text" name="imageUrl" id="imageUrl" value="<%= editing ? prod.imageUrl : "" %>" />
            </div>
        <% } %>
        <div class="form-control">
            <label for="description">Description</label>
            <textarea name="description" id="description" rows="5"><%= editing ? prod.description : "" %></textarea>
        </div>
        <% if (locals.adhocEmail) {%>
            <!-- does not affect the app, just for learning purposes -->
            <div class="form-control">
                <label for="adhocEmail">Ad hoc email</label>
                <input type="exmail" name="adhocEmail" id="adhocEmail" value="" %>" />
            </div>
        <% } %>

        <button class="btn" type="submit"><%= editing ? "Edit Product (admin)" : "Add Product (admin)" %></button>
    </form>
</main>
<%- include('../includes/end.ejs') %>
